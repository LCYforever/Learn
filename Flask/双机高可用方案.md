## 术语介绍

### 双机热备
双机热备特指基于高可用系统中的两台服务器的高可用。双机高可用按工作中的切换方式分为主-备方式（Active-Standby 方式）和双主机方式（Active-Active 方式）。

- 主-备方式：一台服务器处于某种业务的激活状态（即 Active 状态），另一台服务器处于该业务的备用状态（即 Standby 状态)。
- 双主机方式：两种不同业务分别在两台服务器上互为主备状态（即 Active-Standby 和 Standby-Active 状态）。

### Heartbeat
Heartbeat 是 Linux-HA 工程的一个组件，它实现了一个高可用集群系统。Heartbeat 最核心的两个部分是**心跳监测**部分和**资源接管**部分。

**心跳监测**使设备之间相互发送报文来告诉对方自己当前的状态，如果在指定的时间内未收到对方发送的报文，那么就认为对方失效，这时需启动**资源接管**模块来接管运行在对方主机上的资源或者服务。

### DRBD
DRBD （Distributed Replicated Block Device）是一种基于软件的，无共享，复制的存储解决方案，在服务器之间对块设备（硬盘，分区，逻辑卷等）进行镜像。DRBD 负责接收数据，把数据写到本地磁盘，然后通过网络将同样的数据发送给另一个主机，另一个主机再将数据存到自己的磁盘中。

工作原理：每个设备都有一个状态，可能是**主状态**或**从状态**。在主节点上，应用程序应能运行和访问 DRBD 设备（/dev/drbd*）。每次写入都会发往本地磁盘设备和从节点设备中。从节点只能简单地把数据写入它的磁盘设备上。 读取数据通常在本地进行。 如果主节点发生故障，心跳（heartbeat 或 corosync）将会把从节点转换到主状态，并启动其上的应用程序。如果发生故障的节点恢复工作，它就会成为新的从节点，而且必须使自己的内容与主节点的内容保持同步。

## 部署方案
